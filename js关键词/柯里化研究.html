<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
    function curry(fn, len = fn.length, tag) {
        return _curry.call(this, fn, len, tag, [])
    }
    function _curry(fn, len, tag, holders, ...list) {
        return function (...args) {
            let param = list.slice();
            let _holders = holders.slice();

            args.forEach((arg) => {
                if (arg !== tag && holders.length) {
                    let index = holders.shift();
                    _holders.splice(_holders.indexOf(index), 1);
                    param[index] = arg
                } else if (arg !== tag && !holders.length) {
                    param.push(arg)
                } else if (arg === tag && holders.length) {
                    holders.shift()
                } else if (arg === tag && !holders.length) {
                    param.push(arg)
                    _holders.push(param.length - 1)
                }
            })
            if (param.length >= len && param.every((item) => item !== tag)) {
                fn.apply(this, param)
            } else {
                return _curry.call(this, fn, len, tag, _holders, ...param)
            }
        }
    }


    let fn = function (a, b, c, d, e) {
        console.log([a, b, c, d, e]);
    }

    let _ = {}; // 定义占位符
    let _fn = curry(fn, 5, _);  // 将函数柯里化，指定所需的参数个数，指定所需的占位符


    _fn(1, 2, 3, 4, 5);                 // print: 1,2,3,4,5
    _fn(_, 2, 3, 4, 5)(1);              // print: 1,2,3,4,5
    _fn(1, _, 3, 4, 5)(2);              // print: 1,2,3,4,5
    _fn(1, _, 3)(_, 4, _)(2)(5);         // print: 1,2,3,4,5
    _fn(1, _, _, 4)(_, 3)(2)(5);        // print: 1,2,3,4,5
    _fn(_, 2)(_, _, 4)(1)(3)(5);        // print: 1,2,3,4,5





</script>